{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","Services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchValue","handelSearchValueChange","value","onChange","PersonForm","handelNewNameFormSubmit","newName","newNumber","handelNewNameChange","handelNewNumberChange","onSubmit","type","Persons","persons","OnDeleteClick","filter","p","name","toLowerCase","includes","map","index","key","number","onClick","id","getNames","baseUrl","Axios","get","then","response","data","newObject","post","delete","repsones","updateObject","put","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setSearchValue","operationMessage","setOperationMessage","operationMessageType","setOperationMessageType","handelOperationMessage","setTimeout","useEffect","personsService","contacts","event","target","preventDefault","some","item","window","confirm","per","find","changePer","catch","error","finally","concat","personId","parentElement","childNodes","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.adee6a2a.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = ({searchValue,handelSearchValueChange})=>{\r\n    return (\r\n        <div>\r\n        Filter shown with <input value={searchValue} onChange={handelSearchValueChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({handelNewNameFormSubmit,newName,newNumber,handelNewNameChange,handelNewNumberChange})=>{\r\n    return(\r\n        <form onSubmit={handelNewNameFormSubmit}>\r\n        <div>\r\n        <div>name: <input value={newName} onChange={handelNewNameChange} /></div>\r\n        <div>number: <input  value={newNumber} onChange={handelNewNumberChange}/></div>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\n\r\nconst getNames = (persons,searchValue,OnDeleteClick)=>{\r\n    return(\r\n  persons.filter((p)=>p.name.toLowerCase().includes(searchValue)).map((p,index)=>\r\n        <p key={index}>{p.name} {p.number} <button onClick={OnDeleteClick} id={p.id}>Delete</button></p>\r\n       )\r\n    )\r\n  }\r\n\r\nconst Persons= ({persons,searchValue,OnDeleteClick}) =>{\r\n    return(\r\n        getNames(persons,searchValue,OnDeleteClick)\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Persons","import Axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () =>{   \r\n    return  Axios.get(baseUrl).then(response=> response.data)\r\n}\r\n\r\nconst addContact = (newObject) =>{\r\n    const request = Axios.post(baseUrl,newObject)\r\n\r\n    return request.then(response=>{\r\n\r\n        return response.data});\r\n}\r\n\r\nconst deleteContact = (id) =>{\r\n    const request = Axios.delete(`${baseUrl}/${id}`)\r\n\r\n    return request.then(repsones=>repsones.data)\r\n}\r\nconst updateContact =(updateObject)=>{\r\n    const request = Axios.put(`${baseUrl}/${updateObject.id}`,updateObject)\r\n\r\n    return request.then(response=>response.data)\r\n}\r\nexport default{\r\n    getAll,addContact,deleteContact,updateContact\r\n}","\r\nimport React from 'react'\r\n\r\n\r\nconst Notification = ({message,type})=>{\r\n    if(message === null){\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={`notification ${type}`}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState ,useEffect} from 'react'\nimport Filter from './components/Filter.js'\nimport PersonForm from './components/PersonForm.js'\nimport Persons from './components/Persons.js'\nimport Axios from 'axios'\nimport personsService from './Services/persons.js'\nimport Notifcation from './components/Notification.js'\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('Martin Fowler')\n  const [ newNumber, setNewNumber ] = useState('000')\n  const [searchValue,setSearchValue] = useState('')\n  const [operationMessage,setOperationMessage] = useState(null)\n  const [operationMessageType,setOperationMessageType] = useState(null)\n  const handelSearchValueChange=(event)=>{\n    setSearchValue(event.target.value)\n  }\n\n  const handelNewNameChange = (event)=>{\n    setNewName(event.target.value)\n  }\n  const handelNewNumberChange = (event)=>{\n    setNewNumber(event.target.value)\n  }\n  const handelOperationMessage=(message)=>{\n\n    setOperationMessage(message)\n\n    setTimeout(()=>{\n      setOperationMessage(null)\n    },5000)\n  }\n  const handelNewNameFormSubmit = (event) =>{\n    event.preventDefault()\n\n    if(\n      persons.some((item)=>\n      item.name === newName\n    )){\n      if(window.confirm(`${newName} is already added to phonebook,replace the old number with the new one `))\n      {\n          const per = persons.find(p=>p.name == newName)\n          const changePer = {...per,number: newNumber}\n          \n          personsService\n          .updateContact(changePer)\n          .then(data => {\n            per.number = newNumber\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error=>{\n            handelOperationMessage(`Information for ${newName} has been removed from the server`)\n            setOperationMessageType(`error`)\n            setPersons(persons.filter(p=>p.name != newName))\n          }).finally(()=>{\n          \n          })\n      }\n    }\n    else{\n    const personeObject = {\n      name : newName,\n      number: newNumber\n    }\n    personsService\n    .addContact(personeObject)\n    .then(data => {\n\n      setOperationMessage(`Added ${data.name}`)\n      setOperationMessageType(`success`)\n      setPersons(persons.concat(data))\n      setNewName('')\n      setNewNumber('')\n      setTimeout(() => {\n        setOperationMessage(null)\n      }, 5000);\n    })\n    .catch(error=>{\n      handelOperationMessage(error.response.data.error)\n      setOperationMessageType(`error`)\n    })\n  \n    }\n  }\n\n  const handelDeleteContact =(event) =>{\n\n    const personId = event.target.id\n    if(window.confirm(`Delete ${event.target.parentElement.childNodes[0].data}?`)){\n     personsService\n     .deleteContact(personId)\n     .then(data=>{\n        setPersons(persons.filter(p=>p.id != personId))\n     }).catch(error=>{\n       alert(`Error happend while deleteing ${error}`)\n     })\n    }\n  }\n  \n  const fetchAndFillPersons=()=>{\n      personsService\n      .getAll()\n      .then(contacts=>{\n        setPersons(contacts)\n      })\n  }\n\n  useEffect(fetchAndFillPersons,[])\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notifcation message={operationMessage} type={operationMessageType}/>\n      <Filter searchValue={searchValue} handelSearchValueChange={handelSearchValueChange}/>\n      <h2>Add New</h2>\n      <PersonForm newName={newName} newNumber={newNumber} \n      handelNewNameFormSubmit={handelNewNameFormSubmit} \n      handelNewNumberChange={handelNewNumberChange} \n      handelNewNameChange = {handelNewNameChange}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} searchValue={searchValue} OnDeleteClick={handelDeleteContact}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles.css'\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}